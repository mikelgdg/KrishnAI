/* Estilos personalizados para Krishna AI */

/* Oscurecer la sidebar y cambiar texto a blanco */
.css-1d391kg, .css-1lcbmhc, .stSidebar, [data-testid="stSidebar"] {
    background-color: #2b2b2b !important;
    color: white !important;
}

/* Texto de la sidebar en blanco */
.css-1d391kg *, .css-1lcbmhc *, .stSidebar *, [data-testid="stSidebar"] * {
    color: white !important;
}

/* Títulos y headers en la sidebar */
.css-1d391kg h1, .css-1d391kg h2, .css-1d391kg h3, .css-1d391kg h4, .css-1d391kg h5, .css-1d391kg h6,
.stSidebar h1, .stSidebar h2, .stSidebar h3, .stSidebar h4, .stSidebar h5, .stSidebar h6,
[data-testid="stSidebar"] h1, [data-testid="stSidebar"] h2, [data-testid="stSidebar"] h3,
[data-testid="stSidebar"] h4, [data-testid="stSidebar"] h5, [data-testid="stSidebar"] h6 {
    color: white !important;
}

/* Expandir/colapsar botones */
.css-1d391kg .streamlit-expanderHeader,
.stSidebar .streamlit-expanderHeader,
[data-testid="stSidebar"] .streamlit-expanderHeader {
    color: white !important;
}

/* Input fields en la sidebar */
.css-1d391kg input, .stSidebar input, [data-testid="stSidebar"] input {
    background-color: #3b3b3b !important;
    color: white !important;
    border: 1px solid #555 !important;
}

/* Labels y texto de input */
.css-1d391kg label, .stSidebar label, [data-testid="stSidebar"] label {
    color: white !important;
}

/* Botones en la sidebar */
.css-1d391kg button, .stSidebar button, [data-testid="stSidebar"] button {
    background-color: #444 !important;
    color: white !important;
    border: 1px solid #666 !important;
}

.css-1d391kg button:hover, .stSidebar button:hover, [data-testid="stSidebar"] button:hover {
    background-color: #555 !important;
    border-color: #777 !important;
}

/* Slider en la sidebar */
.css-1d391kg .stSlider, .stSidebar .stSlider, [data-testid="stSidebar"] .stSlider {
    color: white !important;
}

/* Markdown text en la sidebar */
.css-1d391kg .markdown-text-container, 
.stSidebar .markdown-text-container,
[data-testid="stSidebar"] .markdown-text-container {
    color: white !important;
}

/* Links en la sidebar */
.css-1d391kg a, .stSidebar a, [data-testid="stSidebar"] a {
    color: #87CEEB !important; /* Light blue for links */
}

/* Separadores y líneas */
.css-1d391kg hr, .stSidebar hr, [data-testid="stSidebar"] hr {
    border-color: #555 !important;
}

/* Expander content */
.css-1d391kg .streamlit-expanderContent,
.stSidebar .streamlit-expanderContent,
[data-testid="stSidebar"] .streamlit-expanderContent {
    background-color: #333 !important;
    color: white !important;
}

/* Text input placeholder */
.css-1d391kg input::placeholder,
.stSidebar input::placeholder,
[data-testid="stSidebar"] input::placeholder {
    color: #ccc !important;
}

/* === ESTILOS DE CHAT TIPO WHATSAPP === */

/* Contenedor principal del chat */
.main .block-container {
    max-width: 100% !important;
    padding-left: 1rem !important;
    padding-right: 1rem !important;
}

/* Mensajes del usuario (Arjuna) - Alineados a la derecha */
[data-testid="stChatMessage"][data-testid*="user"] {
    flex-direction: row-reverse !important;
    margin-left: 20% !important;
    margin-right: 1rem !important;
    margin-bottom: 1rem !important;
}

[data-testid="stChatMessage"][data-testid*="user"] > div {
    background: linear-gradient(135deg, #128C7E 0%, #075E54 100%) !important;
    border-radius: 18px 18px 5px 18px !important;
    padding: 12px 16px !important;
    margin-left: 10px !important;
    box-shadow: 0 2px 8px rgba(0,0,0,0.15) !important;
    color: white !important;
    border: none !important;
}

/* Avatar del usuario más pequeño */
[data-testid="stChatMessage"][data-testid*="user"] img {
    width: 35px !important;
    height: 35px !important;
    border-radius: 50% !important;
    border: 2px solid #128C7E !important;
}

/* Mensajes de Krishna (assistant) - Alineados a la izquierda */
[data-testid="stChatMessage"][data-testid*="assistant"] {
    flex-direction: row !important;
    margin-right: 20% !important;
    margin-left: 1rem !important;
    margin-bottom: 1rem !important;
}

[data-testid="stChatMessage"][data-testid*="assistant"] > div {
    background: linear-gradient(135deg, #F5F5F5 0%, #EEEEEE 100%) !important;
    border-radius: 18px 18px 18px 5px !important;
    padding: 12px 16px !important;
    margin-right: 10px !important;
    box-shadow: 0 2px 8px rgba(0,0,0,0.15) !important;
    color: #333 !important;
    border: none !important;
}

/* Avatar de Krishna más pequeño */
[data-testid="stChatMessage"][data-testid*="assistant"] img {
    width: 35px !important;
    height: 35px !important;
    border-radius: 50% !important;
    border: 2px solid #FF8C00 !important;
}

/* Texto dentro de los mensajes */
[data-testid="stChatMessage"] .stMarkdown {
    margin: 0 !important;
    padding: 0 !important;
}

[data-testid="stChatMessage"] .stMarkdown p {
    margin: 0 !important;
    line-height: 1.4 !important;
    font-size: 14px !important;
}

/* Input del chat tipo WhatsApp */
[data-testid="stChatInput"] {
    position: fixed !important;
    bottom: 0 !important;
    left: 0 !important;
    right: 0 !important;
    background: white !important;
    border-top: 1px solid #E5E5E5 !important;
    padding: 10px !important;
    z-index: 1000 !important;
}

[data-testid="stChatInput"] > div {
    max-width: 800px !important;
    margin: 0 auto !important;
}

[data-testid="stChatInput"] input {
    border-radius: 25px !important;
    border: 1px solid #E5E5E5 !important;
    padding: 12px 20px !important;
    font-size: 14px !important;
    background: #F8F8F8 !important;
}

[data-testid="stChatInput"] input:focus {
    border-color: #128C7E !important;
    box-shadow: 0 0 0 2px rgba(18, 140, 126, 0.2) !important;
}

/* Espacio adicional en el contenido para el input fijo */
.main .block-container {
    padding-bottom: 100px !important;
}

/* Mejoras para referencias de versos */
[data-testid="stChatMessage"] .stMarkdown strong {
    color: #128C7E !important;
    font-weight: 600 !important;
}

/* Responsive para móviles */
@media (max-width: 768px) {
    [data-testid="stChatMessage"][data-testid*="user"] {
        margin-left: 10% !important;
    }
    
    [data-testid="stChatMessage"][data-testid*="assistant"] {
        margin-right: 10% !important;
    }
    
    [data-testid="stChatMessage"] img {
        width: 30px !important;
        height: 30px !important;
    }
    
    [data-testid="stChatMessage"] > div {
        padding: 10px 14px !important;
        font-size: 13px !important;
    }
}